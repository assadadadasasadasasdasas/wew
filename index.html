<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CALEJON â€” Premium Åapka</title>
<meta name="description" content="Calejon - Yapay zeka destekli sanal ÅŸapka deneme. Premium el yapÄ±mÄ± ÅŸapkalar.">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500;600&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #080706;
  --surface: #0f0e0c;
  --surface2: #161412;
  --border: rgba(193,163,120,0.12);
  --gold: #c1a378;
  --gold-light: #d4bc96;
  --gold-dim: rgba(193,163,120,0.4);
  --text: #e8e2d8;
  --text-dim: rgba(232,226,216,0.45);
  --text-mid: rgba(232,226,216,0.65);
  --accent: #8b3a3a;
  --success: #5a8a5a;
  --font-display: 'Playfair Display', serif;
  --font-body: 'DM Sans', sans-serif;
  --font-accent: 'Instrument Serif', serif;
}
* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior: smooth; }
body { background:var(--bg); color:var(--text); font-family:var(--font-body); overflow-x:hidden; }
::selection { background:rgba(193,163,120,0.25); }
::-webkit-scrollbar { width:5px; }
::-webkit-scrollbar-track { background:var(--bg); }
::-webkit-scrollbar-thumb { background:#2a2520; border-radius:3px; }

/* ANIMATIONS */
@keyframes fadeUp { from{opacity:0;transform:translateY(40px)} to{opacity:1;transform:translateY(0)} }
@keyframes fadeIn { from{opacity:0} to{opacity:1} }
@keyframes slideRight { from{opacity:0;transform:translateX(-30px)} to{opacity:1;transform:translateX(0)} }
@keyframes float { 0%,100%{transform:translateY(0) rotate(-1deg)} 50%{transform:translateY(-14px) rotate(1deg)} }
@keyframes pulse { 0%,100%{opacity:.3} 50%{opacity:.8} }
@keyframes spin { to{transform:rotate(360deg)} }
@keyframes shimmer { 0%{background-position:-200% 0} 100%{background-position:200% 0} }
@keyframes grain { 0%,100%{transform:translate(0,0)} 20%{transform:translate(-5%,-10%)} 40%{transform:translate(3%,-15%)} 60%{transform:translate(12%,9%)} 80%{transform:translate(-1%,7%)} }
@keyframes typewriter { from{width:0} to{width:100%} }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }

.anim-fade { animation: fadeUp .8s ease-out both; }
.anim-fade-d1 { animation-delay:.15s; }
.anim-fade-d2 { animation-delay:.3s; }
.anim-fade-d3 { animation-delay:.45s; }

/* GRAIN */
.grain {
  position:fixed; top:-50%; left:-50%; width:200%; height:200%;
  background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.4'/%3E%3C/svg%3E");
  opacity:.025; pointer-events:none; z-index:9999;
  animation:grain 8s steps(10) infinite;
}

/* NAV */
nav {
  position:fixed; top:0; left:0; right:0; z-index:500;
  padding:18px 36px;
  display:flex; justify-content:space-between; align-items:center;
  background:linear-gradient(to bottom,rgba(8,7,6,.97),rgba(8,7,6,.6),transparent);
  backdrop-filter:blur(12px);
}
.logo {
  font-family:var(--font-display); font-size:26px; font-weight:400;
  letter-spacing:10px; cursor:pointer;
  background:linear-gradient(135deg,var(--text),var(--gold));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}
.nav-links { display:flex; gap:28px; align-items:center; }
.nav-links a {
  font-size:11px; letter-spacing:2.5px; color:var(--text-dim);
  text-decoration:none; text-transform:uppercase; font-weight:400;
  transition:color .3s; cursor:pointer;
}
.nav-links a:hover { color:var(--gold); }
.nav-links a.cta-nav {
  padding:8px 20px; border:1px solid var(--gold-dim);
  color:var(--gold); transition:all .3s;
}
.nav-links a.cta-nav:hover { background:rgba(193,163,120,.1); }
.hamburger { display:none; cursor:pointer; font-size:22px; color:var(--gold); }

/* MOBILE NAV */
.mobile-menu {
  display:none; position:fixed; top:0; left:0; right:0; bottom:0;
  background:rgba(8,7,6,.97); z-index:499;
  flex-direction:column; align-items:center; justify-content:center; gap:24px;
}
.mobile-menu.open { display:flex; }
.mobile-menu a {
  font-size:16px; letter-spacing:4px; color:var(--text-mid);
  text-decoration:none; text-transform:uppercase; padding:12px;
}

/* SECTIONS */
section { position:relative; }
.section-label {
  font-size:10px; letter-spacing:5px; color:var(--gold-dim);
  text-transform:uppercase; margin-bottom:14px;
}
.section-title {
  font-family:var(--font-display); font-weight:400; letter-spacing:3px;
  line-height:1.2; margin-bottom:20px;
}
.section-desc {
  color:var(--text-dim); font-size:15px; font-weight:300;
  line-height:1.9; max-width:560px;
}
.divider {
  width:60px; height:1px; background:linear-gradient(90deg,var(--gold),transparent);
  margin:16px 0;
}

/* HERO */
.hero {
  height:100vh; display:flex; align-items:center; justify-content:center;
  text-align:center; position:relative; overflow:hidden;
}
.hero-bg {
  position:absolute; inset:0;
  background:radial-gradient(ellipse at 30% 20%,rgba(193,163,120,.06) 0%,transparent 60%),
             radial-gradient(ellipse at 70% 80%,rgba(139,58,58,.04) 0%,transparent 50%);
}
.hero-circles {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
}
.hero-circles div {
  position:absolute; border-radius:50%;
  border:1px solid var(--border);
  top:50%; left:50%; transform:translate(-50%,-50%);
}
.hero-hat { animation:float 5s ease-in-out infinite; margin-bottom:32px; }
.hero h1 {
  font-family:var(--font-display); font-size:clamp(52px,9vw,110px);
  font-weight:400; letter-spacing:16px; line-height:1;
  background:linear-gradient(135deg,var(--text) 0%,var(--gold) 40%,var(--text) 80%);
  background-size:200% 200%;
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  animation:shimmer 6s ease-in-out infinite;
}
.hero-sub {
  font-size:13px; letter-spacing:7px; color:var(--gold-dim);
  margin:20px 0 48px; text-transform:uppercase; font-weight:300;
}
.hero-btns { display:flex; gap:16px; justify-content:center; flex-wrap:wrap; }
.btn-gold {
  padding:15px 44px; background:linear-gradient(135deg,var(--gold),#a08050);
  border:none; color:var(--bg); font-size:11px; letter-spacing:3px;
  font-weight:600; cursor:pointer; text-transform:uppercase;
  font-family:var(--font-body); transition:all .4s;
}
.btn-gold:hover { transform:translateY(-2px); box-shadow:0 12px 40px rgba(193,163,120,.25); }
.btn-outline {
  padding:15px 44px; background:transparent;
  border:1px solid var(--gold-dim); color:var(--gold);
  font-size:11px; letter-spacing:3px; font-weight:400;
  cursor:pointer; text-transform:uppercase;
  font-family:var(--font-body); transition:all .4s;
}
.btn-outline:hover { border-color:var(--gold); background:rgba(193,163,120,.06); }
.scroll-ind {
  position:absolute; bottom:36px; left:50%; transform:translateX(-50%);
  display:flex; flex-direction:column; align-items:center; gap:8px;
  animation:pulse 2.5s ease-in-out infinite;
}
.scroll-ind span { font-size:9px; letter-spacing:3px; color:rgba(255,255,255,.2); }
.scroll-ind div { width:1px; height:28px; background:linear-gradient(to bottom,var(--gold-dim),transparent); }

/* PRODUCTS */
.products { padding:120px 40px; }
.products-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:28px; max-width:1100px; margin:48px auto 0;
}
.product-card {
  border:1px solid var(--border); background:var(--surface);
  overflow:hidden; cursor:pointer; transition:all .5s;
  position:relative;
}
.product-card:hover { border-color:rgba(193,163,120,.3); transform:translateY(-4px); }
.product-img {
  padding:48px 0; text-align:center;
  background:radial-gradient(circle,rgba(193,163,120,.03),transparent);
}
.product-info { padding:24px 28px 28px; }
.product-name {
  font-family:var(--font-display); font-size:20px; font-weight:400;
  letter-spacing:2px; margin-bottom:6px;
}
.product-desc { font-size:13px; color:var(--text-dim); font-weight:300; margin-bottom:12px; }
.product-bottom { display:flex; justify-content:space-between; align-items:center; }
.product-price { font-size:18px; color:var(--gold); font-weight:300; font-family:var(--font-display); }
.product-tag {
  font-size:9px; letter-spacing:2px; color:var(--text-dim);
  padding:4px 10px; border:1px solid var(--border); text-transform:uppercase;
}
.product-badge {
  position:absolute; top:16px; right:16px;
  font-size:9px; letter-spacing:2px; padding:4px 10px;
  background:var(--accent); color:#fff; text-transform:uppercase;
}

/* TRY-ON */
.tryon { padding:100px 40px; background:var(--surface); border-top:1px solid var(--border); border-bottom:1px solid var(--border); }
.tryon-wrap { max-width:700px; margin:0 auto; }
.tryon-hats { display:flex; gap:12px; margin:24px 0; }
.tryon-hat {
  flex:1; padding:14px; border:1px solid #222; background:var(--bg);
  cursor:pointer; text-align:center; border-radius:6px; transition:all .2s;
}
.tryon-hat.active { border-color:var(--gold); background:rgba(193,163,120,.04); }
.tryon-hat p { font-size:12px; margin-top:6px; }
.tryon-hat .pr { font-size:12px; color:var(--gold); margin-top:2px; }
.upload-area {
  border:2px dashed #252220; border-radius:8px; padding:56px 20px;
  text-align:center; cursor:pointer; background:var(--bg); transition:border-color .3s;
}
.upload-area:hover { border-color:var(--gold-dim); }
#tryonFile { display:none; }
#tryonCanvas { width:100%; border-radius:8px; border:1px solid #1a1816; cursor:grab; }
#tryonCanvas.grabbing { cursor:grabbing; }
.tryon-controls { display:flex; align-items:center; justify-content:center; gap:14px; margin-top:14px; }
.sz-btn {
  width:34px; height:34px; border-radius:50%; background:var(--bg);
  border:1px solid #2a2520; color:#ccc; font-size:16px; cursor:pointer;
}
.sz-btn:hover { border-color:var(--gold-dim); }
.tryon-btns { display:flex; gap:10px; margin-top:18px; }
.tryon-btns button { flex:1; padding:13px; border-radius:6px; font-size:13px; cursor:pointer; font-family:var(--font-body); }
.tryon-dl { background:var(--gold); color:var(--bg); border:none; font-weight:600; }
.tryon-reset { background:transparent; color:var(--text-dim); border:1px solid #2a2520; }
.tryon-share-row { display:flex; gap:8px; margin-top:12px; justify-content:center; }
.share-btn {
  padding:8px 16px; border-radius:4px; border:1px solid #2a2520;
  background:var(--bg); color:var(--text-dim); font-size:11px;
  cursor:pointer; letter-spacing:1px; transition:all .2s;
}
.share-btn:hover { border-color:var(--gold-dim); color:var(--gold); }
.tryon-status { text-align:center; font-size:11px; color:#555; letter-spacing:1px; margin-bottom:14px; }
.tryon-status.ok { color:var(--success); }
.tryon-loading { text-align:center; padding:28px; color:var(--gold); display:none; }
.spin { display:inline-block; width:20px; height:20px; border:2px solid #222; border-top-color:var(--gold); border-radius:50%; animation:spin .7s linear infinite; margin-bottom:10px; }
.editor { display:none; }
.editor.show { display:block; }

/* AI ASSISTANT */
.ai-section { padding:100px 40px; }
.chat-container {
  max-width:640px; margin:36px auto 0;
  border:1px solid var(--border); background:var(--surface);
  border-radius:8px; overflow:hidden;
}
.chat-header {
  padding:16px 20px; border-bottom:1px solid var(--border);
  display:flex; align-items:center; gap:10px;
}
.chat-dot { width:8px; height:8px; border-radius:50%; background:var(--success); }
.chat-header span { font-size:12px; letter-spacing:2px; color:var(--text-mid); }
.chat-messages {
  height:320px; overflow-y:auto; padding:20px;
  display:flex; flex-direction:column; gap:14px;
}
.msg {
  max-width:82%; padding:12px 16px; border-radius:12px;
  font-size:14px; line-height:1.7; font-weight:300;
}
.msg.bot {
  align-self:flex-start; background:#1a1816;
  border-bottom-left-radius:4px; color:var(--text-mid);
}
.msg.user {
  align-self:flex-end; background:rgba(193,163,120,.12);
  border-bottom-right-radius:4px; color:var(--text);
}
.msg.typing .dots { display:inline-flex; gap:4px; }
.msg.typing .dots span {
  width:6px; height:6px; border-radius:50%; background:var(--gold-dim);
  animation:pulse 1.2s ease-in-out infinite;
}
.msg.typing .dots span:nth-child(2) { animation-delay:.2s; }
.msg.typing .dots span:nth-child(3) { animation-delay:.4s; }
.chat-input-row {
  display:flex; border-top:1px solid var(--border);
}
.chat-input-row input {
  flex:1; padding:16px 20px; background:transparent;
  border:none; color:var(--text); font-size:14px;
  font-family:var(--font-body); outline:none;
}
.chat-input-row input::placeholder { color:#444; }
.chat-input-row button {
  padding:16px 24px; background:transparent; border:none;
  border-left:1px solid var(--border); color:var(--gold);
  cursor:pointer; font-size:12px; letter-spacing:2px;
  font-family:var(--font-body); transition:background .2s;
}
.chat-input-row button:hover { background:rgba(193,163,120,.06); }

/* FORUM */
.forum { padding:100px 40px; background:var(--surface); border-top:1px solid var(--border); }
.forum-container { max-width:800px; margin:36px auto 0; }
.forum-post-btn {
  display:inline-block; padding:10px 28px;
  border:1px solid var(--gold-dim); color:var(--gold);
  font-size:11px; letter-spacing:2px; cursor:pointer;
  background:transparent; font-family:var(--font-body);
  margin-bottom:24px; transition:all .2s;
}
.forum-post-btn:hover { background:rgba(193,163,120,.08); }
.forum-new {
  display:none; padding:24px; border:1px solid var(--border);
  background:var(--bg); border-radius:8px; margin-bottom:24px;
}
.forum-new.open { display:block; }
.forum-new input, .forum-new textarea {
  width:100%; padding:12px 14px; background:#111; border:1px solid #222;
  border-radius:4px; color:var(--text); font-size:14px;
  font-family:var(--font-body); margin-bottom:10px; outline:none;
  resize:vertical;
}
.forum-new input:focus, .forum-new textarea:focus { border-color:var(--gold-dim); }
.forum-new textarea { min-height:80px; }
.forum-new button {
  padding:10px 24px; background:var(--gold); color:var(--bg);
  border:none; border-radius:4px; cursor:pointer; font-size:12px;
  letter-spacing:1px; font-family:var(--font-body); font-weight:600;
}
.forum-thread {
  border:1px solid var(--border); background:var(--bg);
  border-radius:6px; margin-bottom:12px; overflow:hidden; transition:all .3s;
}
.forum-thread:hover { border-color:rgba(193,163,120,.2); }
.thread-header {
  padding:18px 20px; cursor:pointer;
  display:flex; justify-content:space-between; align-items:center;
}
.thread-title { font-size:15px; font-weight:400; }
.thread-meta { display:flex; gap:16px; align-items:center; }
.thread-meta span { font-size:11px; color:var(--text-dim); }
.thread-tag {
  font-size:9px; padding:3px 8px; border:1px solid var(--border);
  border-radius:3px; letter-spacing:1px; text-transform:uppercase; color:var(--gold-dim);
}
.thread-body { display:none; padding:0 20px 18px; }
.thread-body.open { display:block; }
.thread-body p { font-size:14px; color:var(--text-dim); line-height:1.8; font-weight:300; margin-bottom:12px; }
.reply-box {
  display:flex; gap:8px; margin-top:10px;
}
.reply-box input {
  flex:1; padding:10px 12px; background:#111; border:1px solid #222;
  border-radius:4px; color:var(--text); font-size:13px;
  font-family:var(--font-body); outline:none;
}
.reply-box button {
  padding:10px 16px; background:var(--gold); color:var(--bg);
  border:none; border-radius:4px; cursor:pointer; font-size:11px;
  font-family:var(--font-body); font-weight:600;
}
.reply-item {
  padding:10px 14px; margin-top:8px; background:#111;
  border-radius:4px; border-left:2px solid var(--gold-dim);
}
.reply-item .reply-author { font-size:11px; color:var(--gold); margin-bottom:4px; }
.reply-item .reply-text { font-size:13px; color:var(--text-dim); line-height:1.6; }

/* REVIEWS */
.reviews { padding:100px 40px; }
.reviews-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px; max-width:1000px; margin:36px auto 0;
}
.review-card {
  padding:28px; border:1px solid var(--border); background:var(--surface);
}
.review-stars { color:var(--gold); font-size:14px; letter-spacing:2px; margin-bottom:12px; }
.review-text { font-size:14px; color:var(--text-dim); line-height:1.8; font-weight:300; font-style:italic; margin-bottom:14px; }
.review-author { font-size:12px; color:var(--text-mid); letter-spacing:1px; }

/* NEWSLETTER */
.newsletter {
  padding:80px 40px; text-align:center;
  border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  background:var(--surface);
}
.newsletter-form {
  display:flex; gap:0; max-width:440px; margin:28px auto 0;
  border:1px solid var(--border); overflow:hidden;
}
.newsletter-form input {
  flex:1; padding:14px 18px; background:transparent;
  border:none; color:var(--text); font-size:14px;
  font-family:var(--font-body); outline:none;
}
.newsletter-form input::placeholder { color:#444; }
.newsletter-form button {
  padding:14px 28px; background:var(--gold); color:var(--bg);
  border:none; font-size:11px; letter-spacing:2px;
  cursor:pointer; font-family:var(--font-body); font-weight:600;
  text-transform:uppercase;
}

/* LEGAL */
.legal { padding:100px 40px; }
.legal-container { max-width:760px; margin:0 auto; }
.legal-tabs { display:flex; gap:0; margin:28px 0; border-bottom:1px solid var(--border); }
.legal-tab {
  padding:12px 24px; font-size:12px; letter-spacing:2px;
  color:var(--text-dim); cursor:pointer; border-bottom:2px solid transparent;
  transition:all .2s; background:none; border-top:none; border-left:none; border-right:none;
  font-family:var(--font-body); text-transform:uppercase;
}
.legal-tab.active { color:var(--gold); border-bottom-color:var(--gold); }
.legal-content { display:none; }
.legal-content.active { display:block; }
.legal-content h3 {
  font-family:var(--font-display); font-size:18px; font-weight:400;
  letter-spacing:1px; margin:28px 0 12px; color:var(--text);
}
.legal-content p {
  font-size:14px; color:var(--text-dim); line-height:1.9; font-weight:300; margin-bottom:10px;
}

/* FOOTER */
footer {
  padding:60px 40px 30px;
  border-top:1px solid var(--border);
}
.footer-grid {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:40px; max-width:1000px; margin:0 auto 40px;
}
.footer-col h4 {
  font-size:11px; letter-spacing:3px; color:var(--gold-dim);
  text-transform:uppercase; margin-bottom:16px;
}
.footer-col a {
  display:block; font-size:13px; color:var(--text-dim);
  text-decoration:none; margin-bottom:10px; font-weight:300;
  transition:color .2s;
}
.footer-col a:hover { color:var(--gold); }
.footer-bottom {
  text-align:center; padding-top:24px;
  border-top:1px solid var(--border);
  font-size:11px; color:#333; letter-spacing:2px;
}
.footer-socials {
  display:flex; gap:16px; margin-top:12px; justify-content:center;
}
.footer-socials a {
  width:36px; height:36px; border-radius:50%;
  border:1px solid #222; display:flex; align-items:center;
  justify-content:center; color:var(--text-dim);
  text-decoration:none; font-size:14px; transition:all .2s;
}
.footer-socials a:hover { border-color:var(--gold); color:var(--gold); }

/* RESPONSIVE */
@media(max-width:768px) {
  .nav-links { display:none; }
  .hamburger { display:block; }
  .hero h1 { letter-spacing:8px; }
  .products-grid { grid-template-columns:1fr; }
  .footer-grid { grid-template-columns:1fr 1fr; }
  .legal-tabs { flex-wrap:wrap; }
}
</style>
</head>
<body>

<div class="grain"></div>

<!-- NAV -->
<nav>
  <div class="logo" onclick="goTo('hero')">CALEJON</div>
  <div class="nav-links">
    <a onclick="goTo('products')">Koleksiyon</a>
    <a onclick="goTo('tryon')">Sanal Dene</a>
    <a onclick="goTo('ai')">AI Asistan</a>
    <a onclick="goTo('forum')">Topluluk</a>
    <a onclick="goTo('legal')">SÃ¶zleÅŸmeler</a>
    <a class="cta-nav" onclick="goTo('tryon')">Åapka Dene</a>
  </div>
  <div class="hamburger" onclick="toggleMenu()">â˜°</div>
</nav>

<div class="mobile-menu" id="mobileMenu">
  <a onclick="goTo('hero');toggleMenu()">Ana Sayfa</a>
  <a onclick="goTo('products');toggleMenu()">Koleksiyon</a>
  <a onclick="goTo('tryon');toggleMenu()">Sanal Dene</a>
  <a onclick="goTo('ai');toggleMenu()">AI Asistan</a>
  <a onclick="goTo('forum');toggleMenu()">Topluluk</a>
  <a onclick="goTo('reviews');toggleMenu()">Yorumlar</a>
  <a onclick="goTo('legal');toggleMenu()">SÃ¶zleÅŸmeler</a>
</div>

<!-- HERO -->
<section class="hero" id="hero">
  <div class="hero-bg"></div>
  <div class="hero-circles">
    <div style="width:440px;height:440px;"></div>
    <div style="width:660px;height:660px;"></div>
    <div style="width:880px;height:880px;"></div>
  </div>
  <div style="position:relative;z-index:2;">
    <div class="hero-hat anim-fade">
      <svg width="160" height="110" viewBox="0 0 180 130">
        <ellipse cx="90" cy="98" rx="78" ry="22" fill="rgba(193,163,120,.12)"/>
        <ellipse cx="90" cy="94" rx="73" ry="20" fill="#151310" stroke="rgba(193,163,120,.2)" stroke-width=".5"/>
        <path d="M22,88 Q14,34 44,14 Q90,-12 136,14 Q166,34 158,88Z" fill="#151310" stroke="rgba(193,163,120,.15)" stroke-width=".5"/>
        <rect x="22" y="74" width="136" height="10" rx="2" fill="rgba(193,163,120,.15)"/>
      </svg>
    </div>
    <h1 class="anim-fade anim-fade-d1">CALEJON</h1>
    <p class="hero-sub anim-fade anim-fade-d2">Yapay Zeka ile ÅapkanÄ± KeÅŸfet</p>
    <div class="hero-btns anim-fade anim-fade-d3">
      <button class="btn-gold" onclick="goTo('tryon')">Åapka Dene</button>
      <button class="btn-outline" onclick="goTo('products')">Koleksiyon</button>
    </div>
  </div>
  <div class="scroll-ind">
    <span>KAYDIR</span>
    <div></div>
  </div>
</section>

<!-- PRODUCTS -->
<section class="products" id="products">
  <div style="text-align:center;">
    <span class="section-label">KOLEKSÄ°YON 2026</span>
    <h2 class="section-title" style="font-size:clamp(32px,4vw,52px);">Essentials</h2>
    <div class="divider" style="margin:16px auto;"></div>
    <p class="section-desc" style="margin:0 auto;">Her biri el yapÄ±mÄ±, premium kumaÅŸlardan Ã¼retilen zamansÄ±z tasarÄ±mlar.</p>
  </div>
  <div class="products-grid">
    <div class="product-card" onclick="goTo('tryon')">
      <div class="product-badge">YENÄ°</div>
      <div class="product-img">
        <svg width="140" height="90" viewBox="0 0 120 78">
          <ellipse cx="60" cy="65" rx="55" ry="13" fill="#222"/>
          <path d="M20,62 Q14,25 35,12 Q60,-2 85,12 Q106,25 100,62Z" fill="#1a1a1a"/>
          <rect x="20" y="52" width="80" height="6" rx="1" fill="#444"/>
        </svg>
      </div>
      <div class="product-info">
        <p class="product-name">Midnight Classic</p>
        <p class="product-desc">Saf siyah, zamansÄ±z ÅŸÄ±klÄ±k. %100 organik pamuk.</p>
        <div class="product-bottom">
          <span class="product-price">â‚º890</span>
          <span class="product-tag">Sanal Dene â†’</span>
        </div>
      </div>
    </div>
    <div class="product-card" onclick="goTo('tryon')">
      <div class="product-img">
        <svg width="140" height="90" viewBox="0 0 120 78">
          <ellipse cx="60" cy="65" rx="55" ry="13" fill="#ddd"/>
          <path d="M20,62 Q14,25 35,12 Q60,-2 85,12 Q106,25 100,62Z" fill="#f0f0f0"/>
          <rect x="20" y="52" width="80" height="6" rx="1" fill="#bbb"/>
        </svg>
      </div>
      <div class="product-info">
        <p class="product-name">Arctic Essential</p>
        <p class="product-desc">Saf beyaz, minimalist zarafet. %100 organik pamuk.</p>
        <div class="product-bottom">
          <span class="product-price">â‚º890</span>
          <span class="product-tag">Sanal Dene â†’</span>
        </div>
      </div>
    </div>
    <div class="product-card" onclick="goTo('tryon')">
      <div class="product-badge" style="background:#3a5a3a;">LÄ°MÄ°TED</div>
      <div class="product-img" style="background:radial-gradient(circle,rgba(139,58,58,.06),transparent);">
        <svg width="140" height="90" viewBox="0 0 120 78">
          <ellipse cx="60" cy="65" rx="55" ry="13" fill="#4a3028"/>
          <path d="M20,62 Q14,25 35,12 Q60,-2 85,12 Q106,25 100,62Z" fill="#5a3a2a"/>
          <rect x="20" y="52" width="80" height="6" rx="1" fill="#7a5a42"/>
        </svg>
      </div>
      <div class="product-info">
        <p class="product-name">Terra Signature</p>
        <p class="product-desc">Toprak tonu, doÄŸal deri bant detayÄ±. Limited edition.</p>
        <div class="product-bottom">
          <span class="product-price">â‚º1.290</span>
          <span class="product-tag">Sanal Dene â†’</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- TRY-ON -->
<section class="tryon" id="tryon">
  <div class="tryon-wrap">
    <div style="text-align:center;">
      <span class="section-label">YAPAY ZEKA SANAL DENEME</span>
      <h2 class="section-title" style="font-size:clamp(26px,3.5vw,42px);">FotoÄŸrafÄ±nÄ± YÃ¼kle, ÅapkanÄ± Dene</h2>
      <p class="section-desc" style="margin:0 auto 8px;">AI yÃ¼zÃ¼nÃ¼ otomatik algÄ±layÄ±p ÅŸapkayÄ± yerleÅŸtiriyor. Sonra ince ayar yapabilirsin.</p>
    </div>
    <div class="tryon-status" id="modelStatus">YÃ¼z tanÄ±ma modeli yÃ¼kleniyor...</div>

    <p class="label">ÅAPKA SEÃ‡</p>
    <div class="tryon-hats">
      <div class="tryon-hat active" onclick="pickHat('black',this)" id="hc-black">
        <svg width="60" height="40" viewBox="0 0 120 78"><ellipse cx="60" cy="65" rx="55" ry="13" fill="#222"/><path d="M20,62 Q14,25 35,12 Q60,-2 85,12 Q106,25 100,62Z" fill="#1a1a1a"/><rect x="20" y="52" width="80" height="6" rx="1" fill="#444"/></svg>
        <p>Siyah</p><p class="pr">â‚º890</p>
      </div>
      <div class="tryon-hat" onclick="pickHat('white',this)" id="hc-white">
        <svg width="60" height="40" viewBox="0 0 120 78"><ellipse cx="60" cy="65" rx="55" ry="13" fill="#ddd"/><path d="M20,62 Q14,25 35,12 Q60,-2 85,12 Q106,25 100,62Z" fill="#f0f0f0"/><rect x="20" y="52" width="80" height="6" rx="1" fill="#bbb"/></svg>
        <p>Beyaz</p><p class="pr">â‚º890</p>
      </div>
      <div class="tryon-hat" onclick="pickHat('brown',this)" id="hc-brown">
        <svg width="60" height="40" viewBox="0 0 120 78"><ellipse cx="60" cy="65" rx="55" ry="13" fill="#4a3028"/><path d="M20,62 Q14,25 35,12 Q60,-2 85,12 Q106,25 100,62Z" fill="#5a3a2a"/><rect x="20" y="52" width="80" height="6" rx="1" fill="#7a5a42"/></svg>
        <p>Kahve</p><p class="pr">â‚º1.290</p>
      </div>
    </div>

    <div id="uploadArea" class="upload-area" onclick="document.getElementById('tryonFile').click()">
      <p style="font-size:36px;margin-bottom:10px;">ğŸ“·</p>
      <p style="font-size:15px;color:#999;">FotoÄŸrafÄ±nÄ± YÃ¼kle</p>
      <p style="font-size:12px;color:#555;margin-top:6px;">TÄ±kla veya sÃ¼rÃ¼kle bÄ±rak</p>
    </div>
    <input type="file" id="tryonFile" accept="image/*">

    <div class="tryon-loading" id="tryonLoading"><div class="spin"></div><p style="font-size:13px;">YÃ¼z algÄ±lanÄ±yor...</p></div>

    <div class="editor" id="tryonEditor">
      <p class="label">ÅAPKAYI SÃœRÃœKLE Â· BOYUTUNU AYARLA</p>
      <canvas id="tryonCanvas"></canvas>
      <div class="tryon-controls">
        <button class="sz-btn" onclick="chgSz(-0.1)">âˆ’</button>
        <span style="font-size:11px;color:#555;">Boyut</span>
        <button class="sz-btn" onclick="chgSz(0.1)">+</button>
      </div>
      <div class="tryon-btns">
        <button class="tryon-dl" onclick="dlImg()">FotoÄŸrafÄ± Ä°ndir</button>
        <button class="tryon-reset" onclick="rstImg()">Yeni FotoÄŸraf</button>
      </div>
      <div class="tryon-share-row">
        <button class="share-btn" onclick="shareTo('twitter')">ğ• PaylaÅŸ</button>
        <button class="share-btn" onclick="shareTo('facebook')">Facebook</button>
        <button class="share-btn" onclick="shareTo('whatsapp')">WhatsApp</button>
        <button class="share-btn" onclick="shareTo('copy')">Link Kopyala</button>
      </div>
    </div>
  </div>
</section>

<!-- AI ASSISTANT -->
<section class="ai-section" id="ai">
  <div style="text-align:center;">
    <span class="section-label">YAPAY ZEKA STÄ°L DANIÅMANI</span>
    <h2 class="section-title" style="font-size:clamp(26px,3.5vw,42px);">Calejon AI Asistan</h2>
    <p class="section-desc" style="margin:0 auto;">Åapka tavsiyeleri, stil Ã¶nerileri, beden rehberliÄŸi â€” AI asistanÄ±mÄ±za her ÅŸeyi sorabilirsin.</p>
  </div>
  <div class="chat-container">
    <div class="chat-header">
      <div class="chat-dot"></div>
      <span>CALEJON AI â€” Ã‡evrimiÃ§i</span>
    </div>
    <div class="chat-messages" id="chatMessages">
      <div class="msg bot">Merhaba! Ben Calejon AI stil danÄ±ÅŸmanÄ±nÄ±zÄ±m. ğŸ© Åapka tavsiyeleri, stil Ã¶nerileri veya beden bilgisi hakkÄ±nda soru sorabilirsiniz.</div>
    </div>
    <div class="chat-input-row">
      <input type="text" id="chatInput" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." onkeydown="if(event.key==='Enter')sendChat()">
      <button onclick="sendChat()">GÃ–NDER</button>
    </div>
  </div>
</section>

<!-- FORUM -->
<section class="forum" id="forum">
  <div style="text-align:center;">
    <span class="section-label">TOPLULUK</span>
    <h2 class="section-title" style="font-size:clamp(26px,3.5vw,42px);">Calejon Forum</h2>
    <p class="section-desc" style="margin:0 auto;">Stil paylaÅŸÄ±mlarÄ±, kombinasyon Ã¶nerileri, sorular ve daha fazlasÄ±.</p>
  </div>
  <div class="forum-container">
    <button class="forum-post-btn" onclick="toggleForumNew()">+ Yeni Konu AÃ§</button>
    <div class="forum-new" id="forumNew">
      <input type="text" id="forumTitle" placeholder="Konu baÅŸlÄ±ÄŸÄ±...">
      <textarea id="forumBody" placeholder="MesajÄ±nÄ±z..."></textarea>
      <div style="display:flex;gap:8px;align-items:center;">
        <select id="forumTag" style="padding:10px;background:#111;border:1px solid #222;color:#ccc;border-radius:4px;font-family:var(--font-body);font-size:12px;">
          <option value="Stil">Stil</option>
          <option value="Soru">Soru</option>
          <option value="Kombinasyon">Kombinasyon</option>
          <option value="Genel">Genel</option>
        </select>
        <button onclick="postThread()">PaylaÅŸ</button>
      </div>
    </div>
    <div id="forumThreads">
      <!-- Default threads -->
    </div>
  </div>
</section>

<!-- REVIEWS -->
<section class="reviews" id="reviews">
  <div style="text-align:center;">
    <span class="section-label">MÃœÅTERI YORUMLARI</span>
    <h2 class="section-title" style="font-size:clamp(26px,3.5vw,42px);">Neler Diyorlar?</h2>
  </div>
  <div class="reviews-grid">
    <div class="review-card">
      <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="review-text">"Sanal deneme Ã¶zelliÄŸi harika, almadan Ã¶nce nasÄ±l durduÄŸunu gÃ¶rmek Ã§ok gÃ¼zel. Kalitesi de mÃ¼kemmel."</p>
      <p class="review-author">â€” Elif K.</p>
    </div>
    <div class="review-card">
      <div class="review-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <p class="review-text">"Midnight Classic modelini aldÄ±m, kumaÅŸÄ± Ã§ok yumuÅŸak. Paketleme de Ã§ok ÅŸÄ±k geldi."</p>
      <p class="review-author">â€” Mert A.</p>
    </div>
    <div class="review-card">
      <div class="review-stars">â˜…â˜…â˜…â˜…â˜†</div>
      <p class="review-text">"AI asistan bana en uygun ÅŸapkayÄ± Ã¶nerdi. Terra Signature tam aradÄ±ÄŸÄ±m tarz Ã§Ä±ktÄ±."</p>
      <p class="review-author">â€” Selin D.</p>
    </div>
  </div>
</section>

<!-- NEWSLETTER -->
<section class="newsletter" id="newsletter">
  <span class="section-label">BÃœLTEN</span>
  <h2 class="section-title" style="font-size:clamp(22px,3vw,36px);">Yeni Koleksiyonlardan Haberdar Ol</h2>
  <p class="section-desc" style="margin:0 auto;">Ã–zel kampanyalar, erken eriÅŸim ve stil ilhamlarÄ± iÃ§in kayÄ±t ol.</p>
  <div class="newsletter-form">
    <input type="email" id="nlEmail" placeholder="E-posta adresiniz...">
    <button onclick="subscribeNL()">KAYIT OL</button>
  </div>
  <p id="nlMsg" style="margin-top:12px;font-size:12px;color:var(--success);display:none;"></p>
</section>

<!-- LEGAL -->
<section class="legal" id="legal">
  <div class="legal-container">
    <div style="text-align:center;">
      <span class="section-label">YASAL</span>
      <h2 class="section-title" style="font-size:clamp(26px,3.5vw,42px);">SÃ¶zleÅŸmeler & Politikalar</h2>
    </div>
    <div class="legal-tabs">
      <button class="legal-tab active" onclick="showLegal(0,this)">KullanÄ±m ÅartlarÄ±</button>
      <button class="legal-tab" onclick="showLegal(1,this)">Gizlilik</button>
      <button class="legal-tab" onclick="showLegal(2,this)">Ä°ade PolitikasÄ±</button>
      <button class="legal-tab" onclick="showLegal(3,this)">KVKK</button>
      <button class="legal-tab" onclick="showLegal(4,this)">Ã‡erez</button>
    </div>

    <div class="legal-content active" id="legalTab0">
      <h3>1. Genel HÃ¼kÃ¼mler</h3>
      <p>Ä°ÅŸbu KullanÄ±m ÅartlarÄ±, Calejon markasÄ± tarafÄ±ndan sunulan web sitesi ve ilgili hizmetlerin kullanÄ±mÄ±na iliÅŸkin koÅŸullarÄ± dÃ¼zenler. Siteyi kullanarak bu ÅŸartlarÄ± kabul etmiÅŸ sayÄ±lÄ±rsÄ±nÄ±z.</p>
      <h3>2. Hizmet TanÄ±mÄ±</h3>
      <p>Calejon, yapay zeka destekli sanal ÅŸapka deneme hizmeti, e-ticaret, topluluk forumu ve stil danÄ±ÅŸmanlÄ±ÄŸÄ± hizmetlerini sunar. Hizmetler "olduÄŸu gibi" sunulmakta olup, kesintisiz veya hatasÄ±z olacaÄŸÄ± garanti edilmemektedir.</p>
      <h3>3. KullanÄ±cÄ± YÃ¼kÃ¼mlÃ¼lÃ¼kleri</h3>
      <p>KullanÄ±cÄ±lar siteyi yalnÄ±zca yasal amaÃ§larla kullanmayÄ± kabul eder. Forum ve topluluk alanlarÄ±nda hakaret, ayrÄ±mcÄ±lÄ±k, spam ve yanÄ±ltÄ±cÄ± iÃ§erik paylaÅŸÄ±mÄ± yasaktÄ±r. Calejon, uygunsuz iÃ§erikleri Ã¶nceden bildirimsiz kaldÄ±rma hakkÄ±nÄ± saklÄ± tutar.</p>
      <h3>4. Fikri MÃ¼lkiyet</h3>
      <p>Sitedeki tÃ¼m iÃ§erikler â€” tasarÄ±mlar, logolar, metinler, gÃ¶rseller ve yazÄ±lÄ±mlar â€” Calejon'un fikri mÃ¼lkiyetindedir. Ä°zinsiz kopyalama, daÄŸÄ±tma veya ticari kullanÄ±m yasaktÄ±r.</p>
      <h3>5. Sorumluluk SÄ±nÄ±rlamasÄ±</h3>
      <p>Calejon, yapay zeka tabanlÄ± hizmetlerin sonuÃ§larÄ±nÄ±n doÄŸruluÄŸunu garanti etmez. Sanal deneme sonuÃ§larÄ± tahmini olup, gerÃ§ek Ã¼rÃ¼nle birebir uyum saÄŸlamayabilir.</p>
    </div>

    <div class="legal-content" id="legalTab1">
      <h3>Gizlilik PolitikasÄ±</h3>
      <p>Calejon olarak kiÅŸisel verilerinizin korunmasÄ±na bÃ¼yÃ¼k Ã¶nem veriyoruz.</p>
      <h3>Toplanan Veriler</h3>
      <p>Sanal deneme Ã¶zelliÄŸinde yÃ¼klenen fotoÄŸraflar sunucuya gÃ¶nderilmez, tamamen tarayÄ±cÄ±nÄ±zda iÅŸlenir. Forum ve hesap oluÅŸturma sÄ±rasÄ±nda ad, e-posta ve isteÄŸe baÄŸlÄ± profil bilgileri toplanÄ±r.</p>
      <h3>Verilerin KullanÄ±mÄ±</h3>
      <p>Toplanan veriler yalnÄ±zca hizmet sunumu, mÃ¼ÅŸteri iletiÅŸimi ve site iyileÅŸtirmeleri amacÄ±yla kullanÄ±lÄ±r. Verileriniz Ã¼Ã§Ã¼ncÃ¼ taraflarla pazarlama amaÃ§lÄ± paylaÅŸÄ±lmaz.</p>
      <h3>Veri GÃ¼venliÄŸi</h3>
      <p>TÃ¼m veriler SSL ÅŸifreleme ile korunur. Ã–deme bilgileri Calejon tarafÄ±ndan saklanmaz; gÃ¼venli Ã¶deme altyapÄ±sÄ± Ã¼Ã§Ã¼ncÃ¼ taraf hizmet saÄŸlayÄ±cÄ±lar tarafÄ±ndan yÃ¶netilir.</p>
    </div>

    <div class="legal-content" id="legalTab2">
      <h3>Ä°ade ve DeÄŸiÅŸim PolitikasÄ±</h3>
      <p>Calejon Ã¼rÃ¼nlerini teslim tarihinden itibaren 14 gÃ¼n iÃ§inde iade edebilirsiniz.</p>
      <h3>Ä°ade KoÅŸullarÄ±</h3>
      <p>ÃœrÃ¼n kullanÄ±lmamÄ±ÅŸ, etiketleri sÃ¶kÃ¼lmemiÅŸ ve orijinal ambalajÄ±nda olmalÄ±dÄ±r. Ä°ade kargo Ã¼creti mÃ¼ÅŸteriye aittir. Limited edition Ã¼rÃ¼nler yalnÄ±zca deÄŸiÅŸim yapÄ±labilir, iade kabul edilmez.</p>
      <h3>DeÄŸiÅŸim</h3>
      <p>Beden veya renk deÄŸiÅŸimi iÃ§in mÃ¼ÅŸteri hizmetlerimizle iletiÅŸime geÃ§ebilirsiniz. DeÄŸiÅŸim talepleri 3-5 iÅŸ gÃ¼nÃ¼ iÃ§inde iÅŸleme alÄ±nÄ±r.</p>
      <h3>Ä°ade SÃ¼reci</h3>
      <p>Ä°ade talebi onaylandÄ±ktan sonra Ã¶deme iadesi 5-10 iÅŸ gÃ¼nÃ¼ iÃ§inde orijinal Ã¶deme yÃ¶ntemine yapÄ±lÄ±r.</p>
    </div>

    <div class="legal-content" id="legalTab3">
      <h3>KVKK AydÄ±nlatma Metni</h3>
      <p>6698 sayÄ±lÄ± KiÅŸisel Verilerin KorunmasÄ± Kanunu kapsamÄ±nda, veri sorumlusu sÄ±fatÄ±yla Calejon olarak aÅŸaÄŸÄ±daki bilgilendirmeyi sunarÄ±z.</p>
      <h3>Veri Sorumlusu</h3>
      <p>Calejon Tekstil ve Teknoloji A.Å., TÃ¼rkiye'de kurulu olup KVKK kapsamÄ±nda veri sorumlusu sÄ±fatÄ±nÄ± taÅŸÄ±maktadÄ±r.</p>
      <h3>Ä°ÅŸlenen KiÅŸisel Veriler</h3>
      <p>Kimlik bilgileri (ad, soyad), iletiÅŸim bilgileri (e-posta, telefon), mÃ¼ÅŸteri iÅŸlem bilgileri (sipariÅŸ, Ã¶deme), pazarlama bilgileri (tercihler, Ã§erez verileri). Sanal deneme fotoÄŸraflarÄ± iÅŸlenmez ve saklanmaz.</p>
      <h3>HaklarÄ±nÄ±z</h3>
      <p>KVKK'nÄ±n 11. maddesi uyarÄ±nca; verilerinizin iÅŸlenip iÅŸlenmediÄŸini Ã¶ÄŸrenme, dÃ¼zeltme, silme, aktarÄ±lmasÄ±nÄ± isteme ve itiraz haklarÄ±na sahipsiniz. BaÅŸvurularÄ±nÄ±zÄ± kvkk@calejon.com adresine iletebilirsiniz.</p>
    </div>

    <div class="legal-content" id="legalTab4">
      <h3>Ã‡erez PolitikasÄ±</h3>
      <p>Sitemiz, kullanÄ±cÄ± deneyimini iyileÅŸtirmek amacÄ±yla Ã§erezler kullanmaktadÄ±r.</p>
      <h3>KullanÄ±lan Ã‡erez TÃ¼rleri</h3>
      <p>Zorunlu Ã§erezler: Sitenin temel iÅŸlevleri iÃ§in gereklidir. Analiz Ã§erezleri: ZiyaretÃ§i istatistiklerini toplar. Tercih Ã§erezleri: Dil ve tema seÃ§imlerinizi hatÄ±rlar.</p>
      <h3>Ã‡erez YÃ¶netimi</h3>
      <p>TarayÄ±cÄ± ayarlarÄ±nÄ±zdan Ã§erezleri kapatabilir veya silebilirsiniz. Ancak bu durumda bazÄ± site Ã¶zellikleri dÃ¼zgÃ¼n Ã§alÄ±ÅŸmayabilir.</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-grid">
    <div class="footer-col">
      <h4>Marka</h4>
      <a onclick="goTo('hero')">Ana Sayfa</a>
      <a onclick="goTo('products')">Koleksiyon</a>
      <a href="#">Hikayemiz</a>
      <a href="#">Kariyer</a>
    </div>
    <div class="footer-col">
      <h4>Destek</h4>
      <a href="#">SÄ±kÃ§a Sorulanlar</a>
      <a href="#">Beden Rehberi</a>
      <a href="#">Kargo & Teslimat</a>
      <a href="mailto:destek@calejon.com">destek@calejon.com</a>
    </div>
    <div class="footer-col">
      <h4>Yasal</h4>
      <a onclick="goTo('legal')">KullanÄ±m ÅartlarÄ±</a>
      <a onclick="goTo('legal')">Gizlilik PolitikasÄ±</a>
      <a onclick="goTo('legal')">KVKK</a>
      <a onclick="goTo('legal')">Ã‡erez PolitikasÄ±</a>
    </div>
    <div class="footer-col">
      <h4>Ä°letiÅŸim</h4>
      <a href="mailto:info@calejon.com">info@calejon.com</a>
      <a href="tel:+902121234567">+90 212 123 45 67</a>
      <a href="#">Ä°stanbul, TÃ¼rkiye</a>
    </div>
  </div>
  <div class="footer-bottom">
    <div class="footer-socials">
      <a href="#" title="Instagram">IG</a>
      <a href="#" title="X/Twitter">ğ•</a>
      <a href="#" title="TikTok">TT</a>
      <a href="#" title="Pinterest">Pi</a>
    </div>
    <p style="margin-top:16px;">Â© 2026 CALEJON â€” TÃœM HAKLARI SAKLIDIR</p>
  </div>
</footer>

<!-- MEDIAPIPE -->
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/vision_bundle.js" crossorigin="anonymous"></script>

<script>
// ===========================
// NAVIGATION
// ===========================
function goTo(id) { document.getElementById(id).scrollIntoView({behavior:'smooth'}); }
function toggleMenu() { document.getElementById('mobileMenu').classList.toggle('open'); }

// ===========================
// TRY-ON ENGINE
// ===========================
var curHat="black", hScale=1, hX=150, hY=30;
var drag=false, oX=0, oY=0, uImg=null;
var cv=document.getElementById("tryonCanvas");
var cx=cv.getContext("2d");
var fLM=null, mReady=false;

var hatColors = {
  black: {brim:"#222",crown:"#1a1a1a",band:"#444"},
  white: {brim:"#ddd",crown:"#f0f0f0",band:"#bbb"},
  brown: {brim:"#4a3028",crown:"#5a3a2a",band:"#7a5a42"}
};

async function initModel() {
  try {
    var v=window.vision;
    var r=await v.FilesetResolver.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm");
    fLM=await v.FaceLandmarker.createFromOptions(r,{
      baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"GPU"},
      runningMode:"IMAGE",numFaces:1
    });
    mReady=true;
    var s=document.getElementById("modelStatus");
    s.textContent="âœ“ YÃ¼z tanÄ±ma hazÄ±r"; s.className="tryon-status ok";
  } catch(e) {
    console.error(e);
    var s=document.getElementById("modelStatus");
    s.textContent="âš  Model yÃ¼klenemedi â€” manuel mod"; s.className="tryon-status";
    s.style.color="#a66";
  }
}
initModel();

function drwHat() {
  var w=140*hScale, h=95*hScale, c=hatColors[curHat];
  var x=hX, y=hY;
  cx.save();
  cx.shadowColor="rgba(0,0,0,.4)"; cx.shadowBlur=14; cx.shadowOffsetY=5;
  var by=y+h*.72;
  cx.beginPath(); cx.ellipse(x+w/2,by,w*.65,h*.22,0,0,Math.PI*2); cx.fillStyle=c.brim; cx.fill();
  cx.beginPath();
  cx.moveTo(x+w*.14,by-2);
  cx.quadraticCurveTo(x+w*.08,y+h*.15,x+w*.27,y+h*.05);
  cx.quadraticCurveTo(x+w*.5,y-h*.06,x+w*.73,y+h*.05);
  cx.quadraticCurveTo(x+w*.92,y+h*.15,x+w*.86,by-2);
  cx.closePath(); cx.fillStyle=c.crown; cx.fill();
  cx.fillStyle=c.band; cx.fillRect(x+w*.14,by-h*.14,w*.72,h*.08);
  cx.restore();
}
function redraw() { if(!uImg)return; cx.clearRect(0,0,cv.width,cv.height); cx.drawImage(uImg,0,0,cv.width,cv.height); drwHat(); }

function detect(img) {
  if(!fLM||!mReady) { hX=cv.width/2-70; hY=30; hScale=1; return; }
  try {
    var res=fLM.detect(img);
    if(!res.faceLandmarks||!res.faceLandmarks.length) { alert("YÃ¼z bulunamadÄ±! Net bir selfie deneyin."); hX=cv.width/2-70; hY=30; hScale=1; return; }
    var lm=res.faceLandmarks[0];
    var tX=lm[10].x*cv.width, tY=lm[10].y*cv.height;
    var cY=lm[152].y*cv.height;
    var fW=(lm[454].x-lm[234].x)*cv.width;
    var tw=fW*1.3; hScale=tw/140;
    var aw=140*hScale, ah=95*hScale;
    hX=tX-aw/2; hY=tY-ah*.55;
  } catch(e) { console.error(e); hX=cv.width/2-70; hY=30; hScale=1; }
}

function loadF(f) {
  var rd=new FileReader();
  rd.onload=function(ev) {
    document.getElementById("uploadArea").style.display="none";
    document.getElementById("tryonLoading").style.display="block";
    var im=new Image();
    im.onload=function() {
      uImg=im;
      var mw=Math.min(500,window.innerWidth-40), sc=mw/im.width;
      cv.width=mw; cv.height=im.height*sc;
      detect(im);
      document.getElementById("tryonLoading").style.display="none";
      document.getElementById("tryonEditor").className="editor show";
      redraw();
    };
    im.src=ev.target.result;
  };
  rd.readAsDataURL(f);
}

document.getElementById("tryonFile").addEventListener("change",function(e){ if(e.target.files[0])loadF(e.target.files[0]); });
var ua=document.getElementById("uploadArea");
ua.addEventListener("dragover",function(e){e.preventDefault();ua.style.borderColor="var(--gold-dim)";});
ua.addEventListener("dragleave",function(){ua.style.borderColor="#252220";});
ua.addEventListener("drop",function(e){e.preventDefault();ua.style.borderColor="#252220";if(e.dataTransfer.files[0])loadF(e.dataTransfer.files[0]);});

function gp(e){var r=cv.getBoundingClientRect();var px=e.touches?e.touches[0].clientX:e.clientX;var py=e.touches?e.touches[0].clientY:e.clientY;return{x:(px-r.left)*(cv.width/r.width),y:(py-r.top)*(cv.height/r.height)};}
function mD(e){e.preventDefault();var p=gp(e),w=140*hScale,h=95*hScale;if(p.x>=hX&&p.x<=hX+w&&p.y>=hY&&p.y<=hY+h){drag=true;oX=p.x-hX;oY=p.y-hY;cv.className="grabbing";}}
function mM(e){if(!drag)return;e.preventDefault();var p=gp(e);hX=p.x-oX;hY=p.y-oY;redraw();}
function mU(){drag=false;cv.className="";}
cv.addEventListener("mousedown",mD);cv.addEventListener("mousemove",mM);cv.addEventListener("mouseup",mU);cv.addEventListener("mouseleave",mU);
cv.addEventListener("touchstart",mD,{passive:false});cv.addEventListener("touchmove",mM,{passive:false});cv.addEventListener("touchend",mU);

function pickHat(id,el) {
  curHat=id;
  document.querySelectorAll(".tryon-hat").forEach(function(e){e.className="tryon-hat";});
  el.className="tryon-hat active";
  if(uImg)redraw();
}
function chgSz(d) { hScale=Math.max(.3,Math.min(2.5,hScale+d)); if(uImg)redraw(); }
function dlImg() { var a=document.createElement("a"); a.download="calejon-sapka.png"; a.href=cv.toDataURL(); a.click(); }
function rstImg() {
  uImg=null;
  document.getElementById("uploadArea").style.display="block";
  document.getElementById("tryonEditor").className="editor";
  document.getElementById("tryonFile").value="";
}

// SOCIAL SHARING
function shareTo(platform) {
  var url=encodeURIComponent(window.location.href);
  var text=encodeURIComponent("Calejon'da yapay zeka ile ÅŸapka denedim! ğŸ©");
  var links = {
    twitter: "https://twitter.com/intent/tweet?text="+text+"&url="+url,
    facebook: "https://www.facebook.com/sharer/sharer.php?u="+url,
    whatsapp: "https://wa.me/?text="+text+"%20"+url,
    copy: null
  };
  if(platform==="copy") {
    navigator.clipboard.writeText(window.location.href).then(function(){alert("Link kopyalandÄ±!");});
  } else {
    window.open(links[platform],"_blank","width=600,height=400");
  }
}

// ===========================
// AI CHATBOT (Free - no API needed, rule-based + smart)
// ===========================
var chatKB = {
  beden: "Åapka bedenleri: S (54-55cm), M (56-57cm), L (58-59cm), XL (60-61cm). KafanÄ±zÄ±n Ã§evresini Ã¶lÃ§mek iÃ§in kaÅŸlarÄ±nÄ±zÄ±n 1cm Ã¼zerinden esnek bir mezura ile Ã¶lÃ§Ã¼m yapabilirsiniz.",
  fiyat: "Siyah ve Beyaz ÅŸapkalarÄ±mÄ±z â‚º890, Terra Signature limited edition modelimiz â‚º1.290'dÄ±r. TÃ¼m fiyatlara KDV dahildir.",
  kargo: "SipariÅŸler 1-3 iÅŸ gÃ¼nÃ¼ iÃ§inde kargoya verilir. Ä°stanbul iÃ§i teslimat 1 gÃ¼n, diÄŸer iller 2-4 iÅŸ gÃ¼nÃ¼dÃ¼r. 500â‚º Ã¼zeri sipariÅŸlerde kargo Ã¼cretsizdir.",
  iade: "14 gÃ¼n iÃ§inde koÅŸulsuz iade hakkÄ±nÄ±z bulunmaktadÄ±r. ÃœrÃ¼n kullanÄ±lmamÄ±ÅŸ ve etiketleri sÃ¶kÃ¼lmemiÅŸ olmalÄ±dÄ±r. Limited edition Ã¼rÃ¼nlerde yalnÄ±zca deÄŸiÅŸim yapÄ±labilir.",
  malzeme: "TÃ¼m ÅŸapkalarÄ±mÄ±z %100 organik pamuktan Ã¼retilmektedir. Terra Signature modelinde ek olarak doÄŸal deri bant detayÄ± bulunur. Ãœretim tamamen el yapÄ±mÄ±dÄ±r.",
  siyah: "Midnight Classic â€” saf siyah, zamansÄ±z bir tasarÄ±m. %100 organik pamuk, ayarlanabilir arka klips. Her tarza uyum saÄŸlar, gÃ¼nlÃ¼k ve Ã¶zel gÃ¼nlerde kullanabilirsiniz.",
  beyaz: "Arctic Essential â€” minimalist beyaz ÅŸapka. YazlÄ±k kullanÄ±m iÃ§in ideal, hafif ve nefes alabilir kumaÅŸ. Casual ve smart-casual kombinlere mÃ¼kemmel uyum.",
  kahve: "Terra Signature â€” limited edition toprak tonlu ÅŸapka. DoÄŸal deri bant detayÄ± ile premium his. Sonbahar/kÄ±ÅŸ sezonu iÃ§in ideal.",
  stil: "Åapka seÃ§erken yÃ¼z ÅŸeklinize dikkat edin: Yuvarlak yÃ¼zler iÃ§in yÃ¼ksek kubbeli ÅŸapkalar, uzun yÃ¼zler iÃ§in geniÅŸ kenarlÄ± modeller Ã¶nerilir. KÄ±yafetinizin genel tonuyla uyumlu renk seÃ§mek Ã¶nemlidir.",
  merhaba: "Merhaba! Size nasÄ±l yardÄ±mcÄ± olabilirim? Åapka tavsiyeleri, beden bilgisi, kargo veya iade hakkÄ±nda sorularÄ±nÄ±zÄ± yanÄ±tlayabilirim. ğŸ©",
  selam: "Selam! HoÅŸ geldiniz! Calejon hakkÄ±nda merak ettiklerinizi sorabilirsiniz.",
  yardÄ±m: "Size ÅŸu konularda yardÄ±mcÄ± olabilirim: ÅŸapka tavsiyeleri, beden rehberliÄŸi, fiyat bilgisi, kargo & teslimat, iade politikasÄ±, malzeme bilgisi ve stil Ã¶nerileri.",
  kombinasyon: "Siyah ÅŸapka: Deri ceket, beyaz tiÅŸÃ¶rt ve jean ile harika durur. Beyaz ÅŸapka: YazlÄ±k elbise veya ÅŸort-tiÅŸÃ¶rt kombini ile mÃ¼kemmel. Kahverengi: Toprak tonlarÄ±, bej ve haki ile doÄŸal bir gÃ¶rÃ¼nÃ¼m.",
  kampanya: "Åu anda bÃ¼ltenimize kayÄ±t olanlara ilk sipariÅŸte %10 indirim sunuyoruz. AyrÄ±ca 2 ÅŸapka alana 3. ÅŸapka %50 indirimli!",
  hediye: "ÅapkalarÄ±mÄ±z Ã¶zel hediye kutusu seÃ§eneÄŸi ile gÃ¶nderilir. SipariÅŸ sÄ±rasÄ±nda 'Hediye paketi' seÃ§eneÄŸini iÅŸaretleyebilirsiniz. KiÅŸiye Ã¶zel not da ekleyebilirsiniz."
};

function findAnswer(msg) {
  var m = msg.toLowerCase().replace(/[?!.,]/g,"");
  var bestMatch = null;
  var bestScore = 0;
  var keys = Object.keys(chatKB);
  for(var i=0; i<keys.length; i++) {
    var k = keys[i];
    if(m.indexOf(k) !== -1) {
      if(k.length > bestScore) { bestScore = k.length; bestMatch = k; }
    }
  }
  // Keyword synonyms
  if(!bestMatch) {
    if(m.indexOf("Ã¶lÃ§Ã¼")!==-1||m.indexOf("numara")!==-1||m.indexOf("boyut")!==-1) bestMatch="beden";
    else if(m.indexOf("fiyat")!==-1||m.indexOf("para")!==-1||m.indexOf("ne kadar")!==-1||m.indexOf("kaÃ§")!==-1) bestMatch="fiyat";
    else if(m.indexOf("teslimat")!==-1||m.indexOf("gÃ¶nderi")!==-1) bestMatch="kargo";
    else if(m.indexOf("geri")!==-1||m.indexOf("deÄŸiÅŸ")!==-1) bestMatch="iade";
    else if(m.indexOf("pamuk")!==-1||m.indexOf("kumaÅŸ")!==-1||m.indexOf("neden")!==-1) bestMatch="malzeme";
    else if(m.indexOf("tavsiye")!==-1||m.indexOf("Ã¶ner")!==-1||m.indexOf("hangisi")!==-1) bestMatch="stil";
    else if(m.indexOf("kombin")!==-1||m.indexOf("giy")!==-1||m.indexOf("nasÄ±l")!==-1) bestMatch="kombinasyon";
    else if(m.indexOf("indirim")!==-1||m.indexOf("kampanya")!==-1||m.indexOf("promosyon")!==-1) bestMatch="kampanya";
    else if(m.indexOf("hediye")!==-1) bestMatch="hediye";
    else if(m.indexOf("ne yapabilir")!==-1||m.indexOf("yardÄ±m")!==-1) bestMatch="yardÄ±m";
  }
  if(bestMatch) return chatKB[bestMatch];
  return "Bu konuda size en iyi yardÄ±mÄ± mÃ¼ÅŸteri hizmetlerimiz saÄŸlayabilir. destek@calejon.com adresine yazabilir veya beden, fiyat, kargo, iade, stil gibi konularda bana soru sorabilirsiniz! ğŸ©";
}

function sendChat() {
  var inp=document.getElementById("chatInput");
  var msg=inp.value.trim();
  if(!msg) return;
  inp.value="";
  var box=document.getElementById("chatMessages");
  // User message
  var um=document.createElement("div"); um.className="msg user"; um.textContent=msg; box.appendChild(um);
  box.scrollTop=box.scrollHeight;
  // Typing indicator
  var tp=document.createElement("div"); tp.className="msg bot typing";
  tp.innerHTML='<div class="dots"><span></span><span></span><span></span></div>';
  box.appendChild(tp); box.scrollTop=box.scrollHeight;
  // Reply after delay
  setTimeout(function() {
    box.removeChild(tp);
    var bm=document.createElement("div"); bm.className="msg bot";
    bm.textContent=findAnswer(msg);
    box.appendChild(bm); box.scrollTop=box.scrollHeight;
  }, 800 + Math.random()*600);
}

// ===========================
// FORUM
// ===========================
var threads = [
  {title:"Midnight Classic ile en iyi kombinasyon Ã¶nerileri",author:"AhmetS",tag:"Kombinasyon",date:"22 Åub 2026",body:"Siyah ÅŸapkamÄ± aldÄ±m ama nasÄ±l kombine edeceÄŸimi bilemiyorum. Ã–nerisi olan?",replies:[
    {author:"ZeynepK",text:"Ben deri ceket + beyaz tiÅŸÃ¶rt ile kullanÄ±yorum, Ã§ok ÅŸÄ±k duruyor!"},
    {author:"CanD",text:"Oversize hoodie ile de Ã§ok iyi gidiyor, streetwear tarzÄ±."}
  ]},
  {title:"Beden seÃ§iminde kafam karÄ±ÅŸtÄ± - 57cm S mi M mi?",author:"MelisBT",tag:"Soru",date:"21 Åub 2026",body:"Kafam 57cm Ã¶lÃ§tÃ¼m ama S ile M arasÄ± kalÄ±yorum. Hangisini almalÄ±yÄ±m?",replies:[
    {author:"CalejonDestek",text:"57cm tam M bedenimize denk gelir. Rahat kullanÄ±m isterseniz M, sÄ±kÄ± fit isterseniz S alabilirsiniz."}
  ]},
  {title:"Terra Signature gerÃ§ekten limited mÄ±?",author:"BurakE",tag:"Genel",date:"20 Åub 2026",body:"Stokta kaÃ§ tane kaldÄ±ÄŸÄ±nÄ± bilen var mÄ±? KaÃ§Ä±rmak istemiyorum.",replies:[]}
];

function renderThreads() {
  var c=document.getElementById("forumThreads"); c.innerHTML="";
  threads.forEach(function(t,i) {
    var d=document.createElement("div"); d.className="forum-thread";
    var rhtml="";
    t.replies.forEach(function(r){
      rhtml+='<div class="reply-item"><div class="reply-author">'+r.author+'</div><div class="reply-text">'+r.text+'</div></div>';
    });
    d.innerHTML='<div class="thread-header" onclick="togThread('+i+')"><div><div class="thread-title">'+t.title+'</div><div style="margin-top:4px;"><span class="thread-tag">'+t.tag+'</span></div></div><div class="thread-meta"><span>'+t.author+'</span><span>'+t.date+'</span><span>'+t.replies.length+' yanÄ±t</span></div></div><div class="thread-body" id="tbody'+i+'"><p>'+t.body+'</p>'+rhtml+'<div class="reply-box"><input type="text" id="reply'+i+'" placeholder="YanÄ±t yaz..."><button onclick="addReply('+i+')">YanÄ±tla</button></div></div>';
    c.appendChild(d);
  });
}
renderThreads();

function togThread(i) {
  var el=document.getElementById("tbody"+i);
  el.classList.toggle("open");
}
function addReply(i) {
  var inp=document.getElementById("reply"+i);
  var txt=inp.value.trim();
  if(!txt) return;
  threads[i].replies.push({author:"Sen",text:txt});
  inp.value="";
  renderThreads();
  // Re-open the thread
  document.getElementById("tbody"+i).classList.add("open");
}
function toggleForumNew() { document.getElementById("forumNew").classList.toggle("open"); }
function postThread() {
  var title=document.getElementById("forumTitle").value.trim();
  var body=document.getElementById("forumBody").value.trim();
  var tag=document.getElementById("forumTag").value;
  if(!title||!body) { alert("BaÅŸlÄ±k ve mesaj gerekli."); return; }
  threads.unshift({title:title,author:"Sen",tag:tag,date:"22 Åub 2026",body:body,replies:[]});
  document.getElementById("forumTitle").value="";
  document.getElementById("forumBody").value="";
  toggleForumNew();
  renderThreads();
}

// ===========================
// NEWSLETTER
// ===========================
function subscribeNL() {
  var email=document.getElementById("nlEmail").value.trim();
  if(!email||email.indexOf("@")===-1) { alert("GeÃ§erli bir e-posta girin."); return; }
  document.getElementById("nlMsg").textContent="âœ“ "+email+" adresine kayÄ±t yapÄ±ldÄ±! Ä°lk sipariÅŸinizde %10 indirim kodunuz: CALEJON10";
  document.getElementById("nlMsg").style.display="block";
  document.getElementById("nlEmail").value="";
}

// ===========================
// LEGAL TABS
// ===========================
function showLegal(idx,el) {
  document.querySelectorAll(".legal-content").forEach(function(e){e.classList.remove("active");});
  document.querySelectorAll(".legal-tab").forEach(function(e){e.classList.remove("active");});
  document.getElementById("legalTab"+idx).classList.add("active");
  el.classList.add("active");
}
</script>

</body>
</html>
